import{_ as s,c as a,o as i,V as n}from"./chunks/framework.6DK9nIBo.js";const t="/assets/cdc01.p19Yrc6I.webp",e="/assets/cdc02.haB1-LJd.webp",m=JSON.parse('{"title":"STM32 USB CDC虚拟串口","description":"","frontmatter":{},"headers":[],"relativePath":"stm32/stm32串口DMAIT操作/stm_cdc_v_com.md","filePath":"stm32/stm32串口DMAIT操作/stm_cdc_v_com.md"}'),l={name:"stm32/stm32串口DMAIT操作/stm_cdc_v_com.md"},p=n('<h1 id="stm32-usb-cdc虚拟串口" tabindex="-1">STM32 USB CDC虚拟串口 <a class="header-anchor" href="#stm32-usb-cdc虚拟串口" aria-label="Permalink to &quot;STM32 USB CDC虚拟串口&quot;">​</a></h1><div class="info custom-block"><p class="custom-block-title">INFO</p><p><a href="https://zhuanlan.zhihu.com/p/371849774?utm_id=0" target="_blank" rel="noreferrer">知乎参考</a></p></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>注意要在官网下载驱动!!!! <a href="https://www.stmcu.com.cn/Designresource/detail/firmware_software/709654" target="_blank" rel="noreferrer">DRIVER下载地址</a></p></div><h3 id="cubemx配置" tabindex="-1">cubemx配置 <a class="header-anchor" href="#cubemx配置" aria-label="Permalink to &quot;cubemx配置&quot;">​</a></h3><p><img src="'+t+'" alt="img"></p><p><img src="'+e+`" alt="img"></p><h3 id="platformio-ini-配置" tabindex="-1">platformio ini 配置 <a class="header-anchor" href="#platformio-ini-配置" aria-label="Permalink to &quot;platformio ini 配置&quot;">​</a></h3><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[platformio]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">src_dir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = ./</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">include_dir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = Core/Inc</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[env:genericSTM32F103C8]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">platform</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = ststm32</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">board</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = genericSTM32F103C8</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">; framework = stm32cube</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">build_flags</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	-D STM32F103xx</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	-ICore/Inc</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	-IDrivers/CMSIS/Include</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	-IDrivers/CMSIS/Device/ST/STM32F1xx/Include</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	-IDrivers/STM32F1xx_HAL_Driver/Inc</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	-IDrivers/STM32F1xx_HAL_Driver/Inc/Legacy</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	-IUSB_DEVICE/App</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	-IUSB_DEVICE/Target </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	-IMiddlewares/ST/STM32_USB_Device_Library/Core/Inc</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	-IMiddlewares/ST/STM32_USB_Device_Library/Class/CDC/Inc</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">src_filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = +&lt;Core/Src&gt; +&lt;startup_stm32f103xb.s&gt; +&lt;Drivers/&gt; +&lt;Middlewares/&gt;+&lt;USB_DEVICE/&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">board_build.ldscript</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = ./STM32F103C8Tx_FLASH.ld</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">upload_protocol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = stlink </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">debug_tool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = stlink</span></span></code></pre></div><h3 id="usbd-cdc-if-c-应用层操作" tabindex="-1">usbd_cdc_if.c 应用层操作 <a class="header-anchor" href="#usbd-cdc-if-c-应用层操作" aria-label="Permalink to &quot;usbd_cdc_if.c 应用层操作&quot;">​</a></h3><h4 id="usb接收" tabindex="-1">usb接收 <a class="header-anchor" href="#usb接收" aria-label="Permalink to &quot;usb接收&quot;">​</a></h4><p><code>static int8_t CDC_Receive_FS(uint8_t* Buf, uint32_t *Len)</code> 只能在内部使用自带中断默认开启</p><h4 id="usb发送" tabindex="-1">usb发送 <a class="header-anchor" href="#usb发送" aria-label="Permalink to &quot;usb发送&quot;">​</a></h4><p><code>uint8_t CDC_Transmit_FS(uint8_t* Buf, uint16_t Len)</code> 可以外部使用 中断使用以后补充</p>`,13),r=[p];function c(h,d,k,o,E,_){return i(),a("div",null,r)}const g=s(l,[["render",c]]);export{m as __pageData,g as default};
