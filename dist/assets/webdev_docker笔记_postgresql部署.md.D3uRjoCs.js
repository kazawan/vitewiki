import{_ as s,c as i,o as a,V as p}from"./chunks/framework.6DK9nIBo.js";const F=JSON.parse('{"title":"ğŸ—’ï¸PostgreSql docker éƒ¨ç½²","description":"","frontmatter":{},"headers":[],"relativePath":"webdev/dockerç¬”è®°/postgresqléƒ¨ç½².md","filePath":"webdev/dockerç¬”è®°/postgresqléƒ¨ç½².md"}'),n={name:"webdev/dockerç¬”è®°/postgresqléƒ¨ç½².md"},e=p(`<h1 id="ğŸ—’ï¸postgresql-docker-éƒ¨ç½²" tabindex="-1">ğŸ—’ï¸PostgreSql docker éƒ¨ç½² <a class="header-anchor" href="#ğŸ—’ï¸postgresql-docker-éƒ¨ç½²" aria-label="Permalink to &quot;ğŸ—’ï¸PostgreSql docker éƒ¨ç½²&quot;">â€‹</a></h1><p><a href="#âš™ï¸æ‹‰å–é•œåƒ">âš™ï¸æ‹‰å–é•œåƒ</a><br><a href="#ğŸ› ï¸docker-composeyml">ğŸ› ï¸docker-compose.yml</a><br><a href="#ğŸ”«å¯åŠ¨">ğŸ”«å¯åŠ¨</a><br><a href="#ğŸ”­postgresql-å¤‡ä»½">ğŸ”­postgresql å¤‡ä»½</a><br><a href="#ğŸ”­postgresql-æ¢å¤">ğŸ”­postgresql æ¢å¤</a></p><h2 id="âš™ï¸æ‹‰å–é•œåƒ" tabindex="-1">âš™ï¸æ‹‰å–é•œåƒ <a class="header-anchor" href="#âš™ï¸æ‹‰å–é•œåƒ" aria-label="Permalink to &quot;âš™ï¸æ‹‰å–é•œåƒ&quot;">â€‹</a></h2><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> postgres</span></span></code></pre></div><h2 id="ğŸ› ï¸docker-compose-yml" tabindex="-1">ğŸ› ï¸docker-compose.yml <a class="header-anchor" href="#ğŸ› ï¸docker-compose-yml" aria-label="Permalink to &quot;ğŸ› ï¸docker-compose.yml&quot;">â€‹</a></h2><div class="tip custom-block"><p class="custom-block-title">ğŸ”¦å‚è€ƒ</p><p><a href="https://zhuanlan.zhihu.com/p/97692526" target="_blank" rel="noreferrer">çŸ¥ä¹ - postgresæ•°æ®åº“å¤‡ä»½åŠå¯¼å…¥,dockerå¤‡ä»½å¯¼å‡º</a></p></div><div class="language-yml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;3.9&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">services</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  postgres</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">postgres:14-alpine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    ports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">5432:5432</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    volumes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">~/apps/postgres:/var/lib/postgresql/data</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      #windows éœ€è¦ç»å¯¹è·¯å¾„</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        #å¯†ç </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">POSTGRES_PASSWORD=S3cret</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        #ç”¨æˆ·</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">POSTGRES_USER=citizix_user</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        #æ•°æ®åº“åå­—</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">POSTGRES_DB=citizix_db</span></span></code></pre></div><h2 id="ğŸ”«å¯åŠ¨" tabindex="-1">ğŸ”«å¯åŠ¨ <a class="header-anchor" href="#ğŸ”«å¯åŠ¨" aria-label="Permalink to &quot;ğŸ”«å¯åŠ¨&quot;">â€‹</a></h2><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span></code></pre></div><h2 id="ğŸ”­postgresql-å¤‡ä»½" tabindex="-1">ğŸ”­postgresql å¤‡ä»½ <a class="header-anchor" href="#ğŸ”­postgresql-å¤‡ä»½" aria-label="Permalink to &quot;ğŸ”­postgresql å¤‡ä»½&quot;">â€‹</a></h2><div class="tip custom-block"><p class="custom-block-title">ğŸ”¦å‚è€ƒ</p><p><a href="https://zhuanlan.zhihu.com/p/97692526" target="_blank" rel="noreferrer">çŸ¥ä¹ - postgresæ•°æ®åº“å¤‡ä»½åŠå¯¼å…¥,dockerå¤‡ä»½å¯¼å‡º</a></p></div><h3 id="ç™»å…¥dockerå®¹å™¨" tabindex="-1">ç™»å…¥dockerå®¹å™¨ <a class="header-anchor" href="#ç™»å…¥dockerå®¹å™¨" aria-label="Permalink to &quot;ç™»å…¥dockerå®¹å™¨&quot;">â€‹</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æŸ¥çœ‹å®¹å™¨åå­— æˆ‘çš„å®¹å™¨åç§°ä¸º compose-postgres-1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ps</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># è¿›å…¥å®¹å™¨ æ³¨æ„uä¸ºå°å†™</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -it</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose-postgres-1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /bin/bash</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># pg_dump å¤‡ä»½ æ•°æ®åº“ æ³¨æ„Uä¸ºå¤§å†™</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -U æ•°æ®åº“æ‹¥æœ‰è€…</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -d æ•°æ®åº“åå­—</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -h host</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -p ports</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -f æ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pg_dump</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -U</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kazawan</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mydb</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -h</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> localhost</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5432</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> backup.sql</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ä½¿ç”¨docker cp å¤åˆ¶æ–‡ä»¶å¤‡ä»½å‡ºæ¥</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose-postgres-1:/backup.sql</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span></span></code></pre></div><p>å¤‡ä»½å®Œæ¯•</p><h2 id="ğŸ”­postgresql-æ¢å¤" tabindex="-1">ğŸ”­postgresql æ¢å¤ <a class="header-anchor" href="#ğŸ”­postgresql-æ¢å¤" aria-label="Permalink to &quot;ğŸ”­postgresql æ¢å¤&quot;">â€‹</a></h2><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å¤åˆ¶å¤‡ä»½æ–‡ä»¶åˆ°å®¹å™¨å†…</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./backup.sql</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose-postgres-1:/</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ‰§è¡Œæ¢å¤</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">psql</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -U</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kazawan</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mydb</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -h</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> localhost</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5432</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> backup.sql</span></span></code></pre></div><p>æ¢å¤æˆåŠŸ</p><div class="tip custom-block"><p class="custom-block-title">ğŸ§°æ³¨æ„</p><p>prisma éœ€è¦é‡æ–°generate</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prisma</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prisma</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> generate</span></span></code></pre></div></div>`,22),l=[e];function t(h,k,r,d,o,c){return a(),i("div",null,l)}const y=s(n,[["render",t]]);export{F as __pageData,y as default};
