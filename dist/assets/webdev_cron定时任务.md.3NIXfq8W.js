import{_ as s,c as i,o as a,V as t}from"./chunks/framework.6DK9nIBo.js";const y=JSON.parse('{"title":"ğŸ““ cronå®šæ—¶ä»»åŠ¡","description":"","frontmatter":{},"headers":[],"relativePath":"webdev/cronå®šæ—¶ä»»åŠ¡.md","filePath":"webdev/cronå®šæ—¶ä»»åŠ¡.md"}'),e={name:"webdev/cronå®šæ—¶ä»»åŠ¡.md"},n=t(`<h1 id="cronå®šæ—¶ä»»åŠ¡" tabindex="-1">ğŸ““ cronå®šæ—¶ä»»åŠ¡ <a class="header-anchor" href="#cronå®šæ—¶ä»»åŠ¡" aria-label="Permalink to &quot;:notebook: cronå®šæ—¶ä»»åŠ¡&quot;">â€‹</a></h1><h2 id="linux-cron-å‘½ä»¤" tabindex="-1">linux cron å‘½ä»¤ <a class="header-anchor" href="#linux-cron-å‘½ä»¤" aria-label="Permalink to &quot;linux cron å‘½ä»¤&quot;">â€‹</a></h2><p><code>crontab -e</code> : ä¿®æ”¹å®šæ—¶å¯åŠ¨åˆ—è¡¨ <code>crontab -l</code> : æŸ¥çœ‹å®šæ—¶åˆ—è¡¨ <code>service cron start</code> : å¯åŠ¨ <code>service cron restart</code> : é‡å¯ <code>service cron status</code> : æ£€æŸ¥çŠ¶æ€ <code>service cron</code> : æŸ¥è¯¢cronå¯ç”¨çš„å‘½ä»¤</p><blockquote><p>! âš ï¸ å› ä¸ºä¸çŸ¥åˆ°ä¸ºç¤¾ä¹ˆåœ¨ubuntué‡Œé¢ç”¨æŒ‡å®šç‰ˆæœ¬pythonå¯åŠ¨ä¸äº†pyè„šæœ¬,æ‰€ä»¥ç”¨äº†shellè„šæœ¬å¯åŠ¨</p></blockquote><blockquote><p>! âš ï¸å»ºè®®ä½¿ç”¨sudo æ‰§è¡Œ</p></blockquote><h2 id="ä½¿ç”¨è„šæœ¬å¯åŠ¨pyè„šæœ¬" tabindex="-1">ä½¿ç”¨è„šæœ¬å¯åŠ¨pyè„šæœ¬ <a class="header-anchor" href="#ä½¿ç”¨è„šæœ¬å¯åŠ¨pyè„šæœ¬" aria-label="Permalink to &quot;ä½¿ç”¨è„šæœ¬å¯åŠ¨pyè„šæœ¬&quot;">â€‹</a></h2><hr><h3 id="è„šæœ¬" tabindex="-1">è„šæœ¬ <a class="header-anchor" href="#è„šæœ¬" aria-label="Permalink to &quot;è„šæœ¬&quot;">â€‹</a></h3><p><code>python è„šæœ¬</code></p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> time</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">logtxt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./loglist.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;+a&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">time </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> time.strftime(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;%Y-%m-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">%d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> %H:%M:%S&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,time.localtime(time.time())) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">logtxt.write(time)</span></span></code></pre></div><p><code>å¯åŠ¨è„šæœ¬</code></p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#dirname $0 ä¸ºå®šä½åˆ°è„šæœ¬çš„æ ¹ç›®å½• å…¶å®ä¸ç”¨ç»å¯¹å®šä½ä¹Ÿå¯ä»¥</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dirname</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> $0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> exit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#ç»å¯¹å®šä½</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/usr/bin/python3.11</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /home/ubuntu/myshell/logtest.py</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#ç›¸å¯¹å®šä½</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python3.11</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./logtest.py</span></span></code></pre></div><h3 id="æ‰§è¡Œ" tabindex="-1">æ‰§è¡Œ <a class="header-anchor" href="#æ‰§è¡Œ" aria-label="Permalink to &quot;æ‰§è¡Œ&quot;">â€‹</a></h3><p><code>æ·»åŠ åˆ°cron list</code> æ‰§è¡Œå‘½ä»¤<code>sudo crontab -e</code></p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /home/ubuntu/myshell/logtest.sh</span></span></code></pre></div><p>âš ï¸ åœ¨çº¿crontabæ—¶é—´è½¬æ¢ <a href="https://tool.lu/crontab/" target="_blank" rel="noreferrer">crontabæ—¶é—´è®¡ç®—</a></p><p><code>:wq</code>ä¿å…¨é€€å‡º</p><p><code>sudo crobtab -l</code> æŸ¥çœ‹æ˜¯å¦æœ‰åœ¨åˆ—è¡¨</p><p>å¦‚æœå®šæ—¶ä¸æ‰§è¡Œçš„è¯å°è¯•<code>sudo service cron reload</code> | <code> sudo service cron restart</code></p><p>ç°åœ¨ç³»ç»Ÿæ¯éš”1åˆ†é’Ÿå°±ä¼šåœ¨æ–‡ä»¶é‡Œé¢å†™å…¥ä¸€ä¸ªæ—¶é—´!</p><h3 id="è¡¥å……" tabindex="-1">è¡¥å…… <a class="header-anchor" href="#è¡¥å……" aria-label="Permalink to &quot;è¡¥å……&quot;">â€‹</a></h3><p>ä½¿ç”¨gitçš„æ—¶å€™éœ€è¦æŠŠæ‰“å°çš„ä¿¡æ¯ä¿å­˜ é¿å…é”™è¯¯</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/usr/bin/git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/wk/gitlog.txt</span></span></code></pre></div>`,23),h=[n];function l(p,k,o,r,d,c){return a(),i("div",null,h)}const F=s(e,[["render",l]]);export{y as __pageData,F as default};
