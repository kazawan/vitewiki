import{_ as s,c as i,o as a,V as n}from"./chunks/framework.6DK9nIBo.js";const h="/assets/pinset.Uld6oLL2.png",k="/assets/cubemx01.Oo0x6mTT.jpg",l="/assets/spi_speed.H4VAj27W.png",D=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"stm32/stm32OLEDSPIDMA/STM32_U8G2_SPI.md","filePath":"stm32/stm32OLEDSPIDMA/STM32_U8G2_SPI.md"}'),p={name:"stm32/stm32OLEDSPIDMA/STM32_U8G2_SPI.md"},t=n(`<h2 id="stm32-u8g2-ç§»æ¤" tabindex="-1">ğŸ”¨STM32 U8G2 ç§»æ¤ <a class="header-anchor" href="#stm32-u8g2-ç§»æ¤" aria-label="Permalink to &quot;:hammer:STM32 U8G2 ç§»æ¤&quot;">â€‹</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><a href="https://blog.csdn.net/qq_51096702/article/details/130185443" target="_blank" rel="noreferrer">U8g2åº“çš„STM32ç¡¬ä»¶SPIï¼ˆDMAï¼‰ç§»æ¤æ•™ç¨‹ï¼ˆHALã€OLEDæ˜¾ç¤ºã€å››çº¿SPIã€DMA</a></p></div><h4 id="æ¥çº¿" tabindex="-1">ğŸ”—æ¥çº¿ <a class="header-anchor" href="#æ¥çº¿" aria-label="Permalink to &quot;:link:æ¥çº¿&quot;">â€‹</a></h4><div class="language-c vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//----------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">æœ¬æ¬¡ç”¨çš„æ˜¯SPI1ã€DMAã€å…¨åŒå·¥(å½“ç„¶åŠåŒå·¥ä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜ã€CSã€DCã€RSæ˜¯æ™®é€šGPIOï¼Œè‡ªè¡Œåˆ‡æ¢)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">GND </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-----------&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ç”µæºåœ°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">VCC </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-----------&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> æ¥5Væˆ–3.</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">3v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ç”µæº</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">D0 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-----------&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> æ¥PA5ï¼ˆSCLï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">D1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-----------&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> æ¥PA7ï¼ˆSDAï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">RES </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-----------&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> æ¥PB0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DC </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-----------&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> æ¥PB1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CS </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-----------&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> æ¥PA4              </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//----------------------------------------------------------------</span></span></code></pre></div><p><img src="`+h+'" alt="pinset"></p><h4 id="cubemx-é…ç½®" tabindex="-1">âš™ï¸CUBEMX é…ç½® <a class="header-anchor" href="#cubemx-é…ç½®" aria-label="Permalink to &quot;:gear:CUBEMX é…ç½®&quot;">â€‹</a></h4><p>é…ç½®spi1</p><blockquote><p>PA5 CLK PA7 MOSI mode é€‰ç”¨åŠåŒå·¥(åªå‘é€) dma åªå¢åŠ spi1_tx res pb0 output pp é€Ÿåº¦low DC pb1 output pp é€Ÿåº¦low CS pa4 output pp é€Ÿåº¦HIGH <img src="'+k+'" alt="cubemx01"></p></blockquote><hr><blockquote><p>SPI å‘é€é€Ÿåº¦è®¾ç½® <img src="'+l+`" alt="spi_speed"></p></blockquote><h4 id="æ–°å»ºoled-c" tabindex="-1">ğŸ“–æ–°å»º<code>OLED.c</code> <a class="header-anchor" href="#æ–°å»ºoled-c" aria-label="Permalink to &quot;:book:æ–°å»º\`OLED.c\`&quot;">â€‹</a></h4><div class="language-c vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./Core/Inc/oled_driver.h&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;stdlib.h&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;spi.h&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;dma.h&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./Core/Src/u8g2/u8g2.h&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint8_t</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> u8x8_byte_4wire_hw_spi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">u8x8_t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">u8x8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint8_t</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> msg</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint8_t</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> arg_int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">arg_ptr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    switch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (msg)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        case</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> U8X8_MSG_BYTE_SEND:</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> /*é€šè¿‡SPIå‘é€arg_intä¸ªå­—èŠ‚æ•°æ®*/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          HAL_SPI_Transmit_DMA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">hspi1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint8_t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">arg_ptr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, arg_int);</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(hspi1.TxXferCount);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">			/*é…ç½®äº†DMAå–æ¶ˆä¸Šä¸€è¡Œæ³¨é‡Šå³å¯*/</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">			// HAL_SPI_Transmit(&amp;hspi1,(uint8_t *)arg_ptr,arg_int,200);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">			/*è¿™æ˜¯CubeMXç”Ÿæˆçš„åˆå§‹åŒ–*/</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        case</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> U8X8_MSG_BYTE_INIT:</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> /*åˆå§‹åŒ–å‡½æ•°*/</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        case</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> U8X8_MSG_BYTE_SET_DC:</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> /*è®¾ç½®DCå¼•è„š,è¡¨æ˜å‘é€çš„æ˜¯æ•°æ®è¿˜æ˜¯å‘½ä»¤*/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">			HAL_GPIO_WritePin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(OLED_DC_GPIO_Port,OLED_DC_Pin,arg_int);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        case</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> U8X8_MSG_BYTE_START_TRANSFER: </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            u8x8_gpio_SetCS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(u8x8, u8x8</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">display_info</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">chip_enable_level</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            u8x8-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gpio_and_delay_cb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(u8x8, U8X8_MSG_DELAY_NANO, u8x8-&gt;display_info-&gt;post_chip_enable_wait_ns, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NULL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        case</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> U8X8_MSG_BYTE_END_TRANSFER: </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            u8x8-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gpio_and_delay_cb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(u8x8, U8X8_MSG_DELAY_NANO, u8x8-&gt;display_info-&gt;pre_chip_disable_wait_ns, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NULL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            u8x8_gpio_SetCS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(u8x8, u8x8</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">display_info</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">chip_disable_level</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint8_t</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> u8x8_stm32_gpio_and_delay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(U8X8_UNUSED </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">u8x8_t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">u8x8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    U8X8_UNUSED </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint8_t</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> msg</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, U8X8_UNUSED </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint8_t</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> arg_int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    U8X8_UNUSED </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">arg_ptr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    switch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (msg)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        case</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> U8X8_MSG_GPIO_AND_DELAY_INIT:</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> /*delayå’ŒGPIOçš„åˆå§‹åŒ–ï¼Œåœ¨mainä¸­å·²ç»åˆå§‹åŒ–å®Œæˆäº†*/</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        case</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> U8X8_MSG_DELAY_MILLI:</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> /*å»¶æ—¶å‡½æ•°*/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            HAL_Delay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arg_int);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     //è°ƒç”¨è°stm32ç³»ç»Ÿå»¶æ—¶å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        case</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> U8X8_MSG_GPIO_CS:</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> /*ç‰‡é€‰ä¿¡å·*/ //ç”±äºåªæœ‰ä¸€ä¸ªSPIè®¾å¤‡ï¼Œæ‰€ä»¥ç‰‡é€‰ä¿¡å·åœ¨åˆå§‹åŒ–æ—¶å·²ç»è®¾ç½®ä¸ºå¸¸æœ‰æ•ˆ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            HAL_GPIO_WritePin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(OLED_CS_GPIO_Port, OLED_CS_Pin, arg_int);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        case</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> U8X8_MSG_GPIO_DC:</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> /*è®¾ç½®DCå¼•è„š,è¡¨æ˜å‘é€çš„æ˜¯æ•°æ®è¿˜æ˜¯å‘½ä»¤*/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            HAL_GPIO_WritePin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(OLED_DC_GPIO_Port,OLED_DC_Pin,arg_int);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        case</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> U8X8_MSG_GPIO_RESET:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> u8g2Init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">u8g2_t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">u8g2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/********************************************     </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">U8G2_R0     //ä¸æ—‹è½¬ï¼Œä¸é•œåƒ     </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">U8G2_R1     //æ—‹è½¬90åº¦</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">U8G2_R2     //æ—‹è½¬180åº¦   </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">U8G2_R3     //æ—‹è½¬270åº¦</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">U8G2_MIRROR   //æ²¡æœ‰æ—‹è½¬ï¼Œæ¨ªå‘æ˜¾ç¤ºå·¦å³é•œåƒ</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">U8G2_MIRROR_VERTICAL    //æ²¡æœ‰æ—‹è½¬ï¼Œç«–å‘æ˜¾ç¤ºé•œåƒ</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">********************************************/</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//    u8g2_Setup_sh1106_128x64_noname_2(u8g2, U8G2_R0, u8x8_byte_4wire_hw_spi, u8x8_stm32_gpio_and_delay);  // åˆå§‹åŒ–1.3å¯¸OLED u8g2 ç»“æ„ä½“</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	u8g2_Setup_ssd1306_128x64_noname_f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(u8g2, U8G2_R0, u8x8_byte_4wire_hw_spi, u8x8_stm32_gpio_and_delay);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // åˆå§‹åŒ–0.96å¯¸OLED u8g2 ç»“æ„ä½“</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	u8g2_InitDisplay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(u8g2);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     //åˆå§‹åŒ–æ˜¾ç¤º</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	u8g2_SetPowerSave</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(u8g2, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //å¼€å¯æ˜¾ç¤º</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="æ–°å»ºoled-driver-h" tabindex="-1">ğŸ“–æ–°å»º<code>oled_driver.h</code> <a class="header-anchor" href="#æ–°å»ºoled-driver-h" aria-label="Permalink to &quot;:book:æ–°å»º\`oled_driver.h\`&quot;">â€‹</a></h4><div class="language-c vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;stdlib.h&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;main.h&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;gpio.h&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./Core/Src/u8g2/u8g2.h&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//-----------------OLEDç«¯å£å®šä¹‰----------------  					   </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MD_OLED_RST_Clr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">HAL_GPIO_WritePin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(OLED_RES_GPIO_Port,OLED_RES_Pin,GPIO_PIN_RESET)</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //oled å¤ä½ç«¯å£æ“ä½œ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MD_OLED_RST_Set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">HAL_GPIO_WritePin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(OLED_RES_GPIO_Port,OLED_RES_Pin,GPIO_PIN_SET)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//OLEDæ§åˆ¶ç”¨å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint8_t</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> u8x8_byte_4wire_hw_spi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">u8x8_t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">u8x8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint8_t</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> msg</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint8_t</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> arg_int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">arg_ptr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint8_t</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> u8x8_stm32_gpio_and_delay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(U8X8_UNUSED </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">u8x8_t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">u8x8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,U8X8_UNUSED </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint8_t</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> msg</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, U8X8_UNUSED </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint8_t</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> arg_int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,U8X8_UNUSED </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">arg_ptr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) ;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> u8g2Init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">u8g2_t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">u8g2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> draw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">u8g2_t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">u8g2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">#endif</span></span></code></pre></div><h4 id="main-c" tabindex="-1">ğŸ’»<code>main.c</code> <a class="header-anchor" href="#main-c" aria-label="Permalink to &quot;:computer:\`main.c\`&quot;">â€‹</a></h4><div class="language-c vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  /* USER CODE BEGIN 2 */</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  u8g2_t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u8g2;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">       // æ˜¾ç¤ºå™¨åˆå§‹åŒ–ç»“æ„ï¿½??</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  MD_OLED_RST_Set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // æ˜¾ç¤ºå™¨å¤ä½æ‹‰ï¿½??</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  u8g2Init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">u8g2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   // æ˜¾ç¤ºå™¨è°ƒç”¨åˆå§‹åŒ–å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  /* USER CODE END 2 */</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /* USER CODE BEGIN 3 */</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    u8g2_ClearBuffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">u8g2);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // æ¸…å±</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    u8g2_DrawStr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">u8g2, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">point</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].y, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;kazawan&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // æ˜¾ç¤ºå­—ç¬¦ï¿½??</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    u8g2_SendBuffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">u8g2);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // å‘ï¿½?ï¿½ç¼“å†²åŒºå†…å®¹åˆ°æ˜¾ç¤ºå™¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  /* USER CODE END 3 */</span></span></code></pre></div>`,16),e=[t];function E(r,d,g,y,_,F){return a(),i("div",null,e)}const A=s(p,[["render",E]]);export{D as __pageData,A as default};
